<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>10. Angular Routing</title>
	<meta name="generator" content="Zim 0.73.5">
	<meta name="viewport" content="width=device-width">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'> -->
	<![if !IE]>
	<!-- comment out for IE since it spams the user with warnings -->
	<script type='text/javascript' src='http://code.jquery.com/jquery-1.7.1.js'></script>
	<script type='text/javascript'>
		$(window).load(function(){$("#navigation").height( $("#content").height()+65 );});
	</script>
	<![endif]>
	<style>
		*, *:before, *:after {
  -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;
		}
		body, html {
			height:100%;
			font-family:'Open Sans', sans-serif;
			line-height:1.5;
			font-weight:300;
			background-color:#FAFAFA;
			text-rendering:geometricPrecision;
			margin:0;
			padding:0;
		}
		.wrapper {
			height:100%;
			padding: 1.25em;
			margin: .5em;
		}
		#navigation {
			background-color: #F3F3F3;
			border-right:1px solid #EAEAEA;
			padding: 1.25em;
		}
		

		#content {
			padding: 1.25em;
			margin-bottom: .5em;
			
		}
		#navigation ul {
			margin-top:0;
			margin-bottom:0;
			padding-left:40px;
		}
		#navigation li {
			list-style-type:none;
		}
		#navigation a {
			text-decoration:none;
			color:gray;
		}
		#navigation strong {
			color: #6E1308;
			font-weight:400;
		}
		#navigation a:hover {
			text-decoration:underline;
		}
		#content h1:nth-child(1) {
			margin-top:0;
		}
		h1,h2,h3,h4,h5,h6 {
			color: #6E6408;
			font-weight:300;
		}
		
			
		#content a {
			color :#6E1308;
		}
		#content a {
			text-decoration: none;
		}
		#content a:hover {
			text-decoration: underline;
		}
		#content a:active {
			text-decoration: underline;
		}
		#content strike {
			color: grey;
		}
		#content u {
			text-decoration: none;
			background-color: yellow;
		}
		#content tt {
			color: #6E1308;
		}
		#content pre {
			color: #6E1308;
			margin-left: 20px;
		}
		.backlinks {
			color:gray;
		}
		hr.footnotes {
			width: 20%;
			margin-left: 0;
		}

	@media (min-width: 47.5em ) and (orientation: landscape) {
	#content { margin-right: 19.5em; }

	#navigation { position: absolute; top: 0; right: 0; width: 18.75em;}   
	}
		

	</style>
</head>
<body>
	<div class="wrapper">
		<div id="navigation"> <ul>
<li><a href="../000_Home.html" title="000 Home" class="page">000 Home</a></li>
<li><a href="../Angular.html" title="Angular" class="page">Angular</a>
<ul>
<li><a href="./1._What_Is_Angular.html" title="1. What Is Angular" class="page">1. What Is Angular</a></li>
<li><a href="./2._TypeScript_Intro.html" title="2. TypeScript Intro" class="page">2. TypeScript Intro</a></li>
<li><a href="./3._Prerequisites_and_Dev_Environment_Setup.html" title="3. Prerequisites and Dev Environment Setup" class="page">3. Prerequisites and Dev Environment Setup</a></li>
<li><a href="./4._Angular_Components.html" title="4. Angular Components" class="page">4. Angular Components</a></li>
<li><a href="./5._Angular_Templates.html" title="5. Angular Templates" class="page">5. Angular Templates</a></li>
<li><a href="./6._Angular_Directives.html" title="6. Angular Directives" class="page">6. Angular Directives</a></li>
<li><a href="./7._Material_Design_and_Angular_Material.html" title="7. Material Design and Angular Material" class="page">7. Material Design and Angular Material</a></li>
<li><a href="./8._Angular_Reactive_Forms.html" title="8. Angular Reactive Forms" class="page">8. Angular Reactive Forms</a></li>
<li><a href="./9._Angular_Services_and_Dependency_Injection.html" title="9. Angular Services and Dependency Injection" class="page">9. Angular Services and Dependency Injection</a></li>
<li><b>10. Angular Routing</b></li>
<li><a href="./11._Angular_Observables_and_Consuming_REST(HTTP)_APIs.html" title="11. Angular Observables and Consuming REST(HTTP) APIs" class="page">11. Angular Observables and Consuming REST(HTTP) APIs</a></li>
</ul>
</li>
<li><a href="../LaTeX.html" title="LaTeX" class="page">LaTeX</a></li>
<li><a href="../Linux_Stuff.html" title="Linux Stuff" class="page">Linux Stuff</a></li>
<li><a href="../Miscellaneous.html" title="Miscellaneous" class="page">Miscellaneous</a></li>
<li><a href="../Notion.html" title="Notion" class="page">Notion</a></li>
<li><a href="../Recommended_Reading,_Watching.html" title="Recommended Reading, Watching" class="page">Recommended Reading, Watching</a></li>
</ul>
 </div>
		<div id="content">
			<h1>10. Angular Routing <a name='Angular:10. Angular Routing'></a></h1>

			<p>
Created Saturday 10 July 2021
</p>

<p>
So far all our Angular development has been state-based, i.e. whatever view we have is based on the logic flow. The URL is always constant, ie http://localhost:4200
</p>

<p>
This is not a bad thing and can be suitable for many applications, but some benefit from a flow more similar to a multi-page flow, where you have discrete URLs that access particular component views.
</p>

<p>
An easy example is e-commerce sites like Flipkart. It can work this way but it would be very inconvenient:
</p>

<p>
<ol type="1" start="1">
<li>Sharing links to specific products would no longer be possible</li>
<li>Huge amount of internal data would need to be used to process complex flows, and it would get more and more complex with each step.</li>
<li>Reloading the page by accident or if internet connectivity was lost would mean all progress is lost and you start from the root again.
<ol type="1" start="1">
<li>Can be circumvented using local storage/session storage or cookies to an extent, but it is poor development practice and unnecessarily complex.</li>
</ol>
</li>
<li>Allows simple handling of (for example) 404 pages to display when something invalid is accessed.</li>
</ol>
</p>

<p>
&gt; The Angular Router is an optional service that presents a particular component view for a given URL. It is not part of the Angular core and thus is in its own library package, <span class="zim-tag">@angular</span>/router.
</p>

<p>
With routing, you are able to retain the functionality and structure of an SPA, but with the benefit of changing the URLs as needed.
</p>

<p>
In app.module.ts:
</p>
<div class="zim-object">
<pre><code class="js">import { RouterModule, Routes } from '@angular/router';
</code></pre>
</div>

<br>

<p>
Set up a list of routes within appmodule:
</p>
<div class="zim-object">
<pre><code class="js">const appRoutes : Routes = [
  { path: '', component: HomeComponent },
  { path: 'test', component: TestComponent },
  { path: 'data', component: DataComponent },
  { path: '**', component: PageNotFoundComponent }
];

.
.
.
imports: [
    BrowserModule,
    RouterModule.forRoot(appRoutes)
  ],
</code></pre>
</div>

<br>

<p>
Now in your app-component, remove all references to other components and replace instead with:
</p>
<div class="zim-object">
<pre><code class="html">&lt;router-outlet&gt;&lt;/router-outlet&gt;
</code></pre>
</div>

<br>

<p>
Routing is now set up!
</p>

<p>
Now, we should also be set up to handle routes via links, as in, clicking on a link in app must then hit that particular route.
</p>

<p>
Using HTML's standard &lt;a href=""&gt; kind of works, but it isn't at all how it is supposed to. By using a href, we are essentially going back to the multipage approach, since clicking on an anchor hyperlink returns control to the browser, and the browser then sends a GET request to the full URL in the link, thus reloading the entire application, this time hitting the new route.
</p>

<p>
While this looks normal, it is suboptimal especially for very heavy apps.
</p>

<p>
Instead of href, we must use angular's inbuilt routerLink feature:
</p>
<div class="zim-object">
<pre><code class="html">&lt;a routerLink="/"&gt;Go Home&lt;/a&gt; &lt;br&gt;
&lt;a routerLink="/"&gt;View Data&lt;/a&gt; &lt;br&gt;
&lt;a routerLink="/"&gt;Test Something&lt;/a&gt; &lt;br&gt;
</code></pre>
</div>

<br>

<p>
This works magically, you can check the network tab on Chrome DevTools to ensure no new requests are being fired, app is not being restarted, and our view is being changed by the script bundle altering the DOM just like is expected from a pure Angular project.
</p>

<p>
You can also link to something using a method.
</p>

<p>
In your component ts file,
</p>
<div class="zim-object">
<pre><code class="js">import { Router } from '@angular/router';

constructor(... private router:Router,...){
}

goToLink(){
	this.router.navigateByUrl('test');
}

</code></pre>
</div>

<br>

<p>
In HTML
</p>
<div class="zim-object">
<pre><code class="html">&lt;button (click)='goToLink()'&gt;Go to TestPage&lt;/button&gt;
</code></pre>
</div>

<br>

<p>
Routes are very advanced and can be used to handle query parameters and much more.
</p>


			<br>
			<span class="backlinks">
				<hr class='footnotes'>
				<b>Backlinks:</b>
				<a href='../Angular.html'>Angular</a>
				<br /><br />
			</span>

			
		</div>
	</div>
</body>
</html>

